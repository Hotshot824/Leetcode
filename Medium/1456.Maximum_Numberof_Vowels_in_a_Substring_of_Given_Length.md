---
Category: Sliding Window
Subcategory: Sliding Window
Title: 1456. Maximum Number of Vowels in a Substring of Given Length
Date: 2025-09-16
Difficulty: Medium
Status: Accepted
---

[1456. Maximum Number of Vowels in a Substring of Given Length]

[1456. Maximum Number of Vowels in a Substring of Given Length]: https://leetcode.com/problems/maximum-number-of-vowels-in-a-substring-of-given-length

這題給了一個字串 `s` 和一個整數 `k`，要求我們找出長度為 `k` 的子字串中，包含最多母音字母的數量。母音字母包括 'a', 'e', 'i', 'o', 'u'。

---

很直覺的這題用 Sliding Window 的技巧來解決。我們可以維護一個長度為 `k` 的窗口，並在每次移動窗口時更新母音字母的計數。

實作上有兩種做法:

1.  真的維護一個長度為 `k` 的 Queue
2.  只用 Two Pointers 來模擬窗口的移動

通常會使用第一種是因為 Queue 還需要另外維護，例如 Priority Queue 之類的資料結構時，會比較方便。
否則速度上會比 Two Pointers 慢一些。因為 Queue 要處理入隊和出隊的操作，通常會涉及到記憶體配置和釋放，這些操作會增加額外的時間開銷。

### Sliding Window with Queue

第一次寫的時候還是會想用 Queue 來維護窗口，這樣比較直覺。
但其實就只是拿這個 Queue 來檢查當前 Substring 的母音數量，並沒有其他特別的用途。

Time Complexity O(n), Space Complexity O(k).

**Golang Solution:**
```go
func maxVowels(s string, k int) int {
    res := 0

    queue := []rune{}
    count := 0
    for _, r := range s {
        if isVowels(r) {
            count++
        }

        queue = append(queue, r)

        if len(queue) >= k {
            res = max(res, count)
            if isVowels(queue[0]) {
                count--
            }
            queue = queue[1:]
        }
    }

    return res
}

func isVowels(r rune) bool {
    return r == 'a' || r == 'e' || r == 'i' || r == 'o' || r == 'u'
}
```

### Sliding Window with Two Pointers

再仔細看下題目的要求，其實 K 是固定的，所以我們可以直接用 Two Pointers 來模擬窗口的移動。
每次移動右指針時，檢查新加入的字元是否為母音字母，並更新計數。

當窗口大小超過 `k` 時，移動左指針並檢查被移出的字元是否為母音字母，更新計數。
其實如果左邊的字元不是母音字母，計數不會變，所以這邊可以省略不檢查。

> 這邊的寫法會簡潔很多，速度也會比較快

Time Complexity O(n), Space Complexity O(1).

**Golang Solution:**
```go
func maxVowels(s string, k int) int {
    count := 0
    res := 0
    runes := []rune(s)

    for i, r := range runes {
        if isVowel(r) {
            count++
        }

        if i >= k && isVowel(runes[i-k]) {
            count--
        }

        res = max(res, count)
    }

    return res
}

func isVowel(r rune) bool {
    return r == 'a' || r == 'e' || r == 'i' || r == 'o' || r == 'u'
}
```
